<div class="container">
  <h1>Trending</h1>
  <div class="cols">
    <div class="formSearch">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Search</mat-label>
        <input matInput type="search" [formControl]="search" />
        <mat-icon>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24"
            viewBox="0 0 24 24"
            width="24"
          >
            <path d="M0 0h24v24H0z" fill="none" />
            <path
              d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
            />
          </svg>
        </mat-icon>

        <!-- <div class="options" *ngFor="let movie of movies">
                      <div class="title">
                          {{ movie.title }}
                      </div>
                  </div> -->

        <!-- <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                      <mat-option *ngFor="let option of movies" [value]="option">
                        {{option.title}}
                      </mat-option>
                    </mat-autocomplete> -->
      </mat-form-field>
    </div>
    <mat-accordion>
      <!-- <mat-expansion-panel hideToggle>
        <p>This is the primary content of the panel.</p>
      </mat-expansion-panel> -->
      <mat-expansion-panel
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title> Filtrar pesquisa </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-card>
          <mat-card-content>
            <h2 class="example-h2">Filtra filmes por:</h2>

            <section class="example-section">
              <mat-checkbox class="example-margin" [(ngModel)]="populares"
                >Mais populares</mat-checkbox
              >
            </section>
          </mat-card-content>
        </mat-card>
      </mat-expansion-panel>
    </mat-accordion>
    <br />
  </div>

  <div class="cards" *ngIf="search.value === '' && !populares">
    <h1>Mais vistos da semana!</h1>
    <div class="card-container" *ngFor="let movie of movies">
      <div class="card-image">
        <img
          mat-card-image
          class="image"
          [src]="'https://image.tmdb.org/t/p/w500/' + movie.poster_path"
        />
      </div>
      <div class="title">
        <h3>{{ movie.title }}</h3>
        <h4>{{ movie.release_date }}</h4>
      </div>
    </div>
  </div>

  <div class="cards" *ngIf="search.value !== '' && !populares">
    <h1>Resultados por pesquisar "{{ search.value }}"</h1>
    <div class="no-find" *ngIf="noFind">
      <h1 class="error-alert">Ops, n√£o encontramos Resultados :(</h1>
    </div>
    <div class="card-container" *ngFor="let trending of trendings">
      <div class="card-image">
        <img
          mat-card-image
          class="image"
          [src]="'https://image.tmdb.org/t/p/w500/' + trending.poster_path"
        />
      </div>
      <div class="title">
        <h3>{{ trending.title }}</h3>
        <h4>{{ trending.release_date }}</h4>
      </div>
    </div>
  </div>

  <div class="cards" *ngIf="populares">
    <h1>Os mais populares!</h1>
    <div class="card-container" *ngFor="let movie of popularity">
      <div class="card-image">
        <img
          mat-card-image
          class="image"
          [src]="'https://image.tmdb.org/t/p/w500/' + movie.poster_path"
        />
      </div>
      <div class="title">
        <h3>{{ movie.title }}</h3>
        <h4>{{ movie.release_date }}</h4>
      </div>
    </div>
  </div>

  <!-- 
<mat-card-content>
    <p>
    </p>
</mat-card-content> -->
</div>
